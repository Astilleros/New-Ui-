<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="data:,">
    <title>Test canvas</title>
    <meta charset="utf-8"/>
</head>

<body style="font-family: arial; padding: 0px 10px;">
    <h2>Create Reference out of Raw Image</h2>

    <div class="w3-row">
        <div class="w3-card w3-center w3-twothird">
            <header class="w3-container">
                <button class="w3-btn w3-ripple w3-blue" id="reset">Reset all</a>
                <button class="w3-btn w3-ripple w3-blue" id="load">Load image url</a>
                <button class="w3-btn w3-ripple w3-blue" id="clearCtx">Clear canvas</a>
                <button class="w3-btn w3-ripple w3-blue" id="flipHor">Flip Horizontal</a>
                <button class="w3-btn w3-ripple w3-blue" id="flipVer">Flip Vertical</a>
                <button class="w3-btn w3-ripple w3-blue" id="grid">Set Grid</a>
                <button class="w3-btn w3-ripple w3-blue" id="pointer">Active Pointer</a>
                <button class="w3-btn w3-ripple w3-blue" id="rotatemore">Rotate more</a>
                <button class="w3-btn w3-ripple w3-blue" id="rotateless">rotate less</a>
                <button class="w3-btn w3-ripple w3-blue" id="deleterectangle">Delete rectangle</a>
                <button class="w3-btn w3-ripple w3-blue" id="createrectangle">Create rectangle</a>
                <button class="w3-btn w3-ripple w3-blue" id="exitrectangle">Exit rectangle</a>
            </header>
            <div class="w3-container">
                <canvas id="canvas"></canvas>
            </div>
        </div>	

    <script type="text/javascript" src="./canvas.js"></script> 
    <script type="text/javascript">

        document.getElementById("load").addEventListener('click', load);
        document.getElementById("clearCtx").addEventListener('click', clearCtx);
        document.getElementById("reset").addEventListener('click', reset);
        document.getElementById("flipHor").addEventListener('click', flipHor);
        document.getElementById("flipVer").addEventListener('click', flipVer);
        document.getElementById("grid").addEventListener('click', grid);
        document.getElementById("pointer").addEventListener('click', pointer);
        document.getElementById("rotatemore").addEventListener('click', rotatemore);
        document.getElementById("rotateless").addEventListener('click', rotateless);
        document.getElementById("deleterectangle").addEventListener('click', deleterectangle);
        document.getElementById("createrectangle").addEventListener('click', createrectangle);
        document.getElementById("exitrectangle").addEventListener('click', exitrectangle);


        let canvasInst = new Canvas(document.getElementById('canvas'))

        let isLoad = false
        function load() {
            canvasInst.loadUrl("https://raw.githubusercontent.com/jomjol/AI-on-the-edge-device/master/images/watermeter.jpg");
            isLoad = true
        }
        let isClear = false
        function clearCtx() {
            canvasInst.clearCtx()
            isClear = true
        }
        function reset() {
            canvasInst.reset()
            isLoad = false
            isClear = true
        }
        let isFlipHoz = false
        function flipHor() {
            isFlipHoz = !isFlipHoz
            canvasInst.flipHor(isFlipHoz)
        }
        let isFlipVer = false
        function flipVer() {
            isFlipVer = !isFlipVer
            canvasInst.flipVer(isFlipVer)
        }
        let isGrid = false
        function grid() {
            isGrid = !isGrid
            canvasInst.grid(isGrid)
        }
        let isPointer = false
        function pointer() {
            isPointer = !isPointer
            canvasInst.pointer(isPointer)
        }
        let rotate = 0
        function rotatemore() {
            rotate++
            canvasInst.setDegrees(rotate)
        }
        function rotateless() {
            rotate--
            canvasInst.setDegrees(rotate)
        }
        function createrectangle() {
            canvasInst.createRectangle()
        }
        function deleterectangle() {
            canvasInst.clearRectangle()
        }
        function exitrectangle() {
            canvasInst.exitCreateRectangle()
        }
        
    </script>

</body>
</html>